<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rasoora Sweet Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f4f4;
}

/* NAVBAR */
nav {
    background: #8e44ad;
    color: white;
    padding: 15px 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

nav button {
    background: white;
    color: #8e44ad;
    border: none;
    padding: 7px 14px;
    border-radius: 4px;
    cursor: pointer;
}

/* HERO */
.hero {
    background: linear-gradient(to right, #8e44ad, #b97ddb);
    color: white;
    padding: 40px;
    text-align: center;
}

/* MAIN */
.container {
    max-width: 1200px;
    margin: 30px auto;
    padding: 10px;
}

/* SWEETS GRID */
.sweets {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
}

.card {
    background: white;
    padding: 15px;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.card h3 {
    margin: 5px 0;
}

.card p {
    margin: 5px 0;
    color: #555;
}

.card button {
    width: 100%;
    background: #8e44ad;
    color: white;
    border: none;
    padding: 8px;
    border-radius: 4px;
    cursor: pointer;
}

/* CART */
.cart {
    background: white;
    padding: 15px;
    margin-top: 30px;
    border-radius: 6px;
}

.cart h3 {
    margin-top: 0;
}

/* AUTH MODAL */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    display: none;
    align-items: center;
    justify-content: center;
}

.modal-box {
    background: white;
    padding: 20px;
    width: 320px;
    border-radius: 6px;
}

input {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
}

.hidden {
    display: none;
}
</style>
</head>

<body>

<!-- NAV -->
<nav>
    <h2>üç¨ Rasoora Sweet Shop</h2>
    <button id="authBtn" onclick="openLogin()">Login / Signup</button>
</nav>

<!-- HERO -->
<div class="hero">
    <h1>Traditional Indian Sweets</h1>
    <p>Fresh ‚Ä¢ Hygienic ‚Ä¢ Home Delivery</p>
</div>

<!-- MAIN -->
<div class="container">

    <!-- SWEETS -->
    <h2>Our Sweets</h2>
    <div class="sweets" id="sweetList"></div>

    <!-- CART -->
    <div class="cart">
        <h3>Your Cart</h3>
        <ul id="cartItems"></ul>
        <h4>Total: ‚Çπ<span id="total">0</span></h4>
        <button onclick="checkout()">Checkout</button>
    </div>
</div>

<!-- LOGIN / SIGNUP -->
<div class="modal" id="authModal">
    <div class="modal-box">
        <h3>Login</h3>
        <input id="username" placeholder="Username">
        <input id="password" type="password" placeholder="Password">
        <button onclick="login()">Login</button>
        <hr>
        <h4>New User?</h4>
        <button onclick="signup()">Signup</button>
        <button onclick="closeModal()">Close</button>
    </div>
</div>

<script>
const sweets = [
    {id:1, name:"Rasgulla", price:180, kcal:150},
    {id:2, name:"Gulab Jamun", price:220, kcal:175},
    {id:3, name:"Kaju Katli", price:850, kcal:210},
    {id:4, name:"Ladoo", price:300, kcal:190},
    {id:5, name:"Barfi", price:420, kcal:200},
    {id:6, name:"Jalebi", price:260, kcal:230}
];

let cart = [];
let token = localStorage.getItem("token");

/* LOAD SWEETS */
const sweetList = document.getElementById("sweetList");
sweets.forEach(s => {
    sweetList.innerHTML += `
        <div class="card">
            <h3>${s.name}</h3>
            <p>Price: ‚Çπ${s.price}/kg</p>
            <p>Calories: ${s.kcal} kcal</p>
            <button onclick="addToCart(${s.id})">Add to Cart</button>
        </div>
    `;
});

/* CART */
function addToCart(id) {
    const item = sweets.find(s => s.id === id);
    cart.push(item);
    renderCart();
}

function renderCart() {
    cartItems.innerHTML = "";
    let total = 0;
    cart.forEach(i => {
        total += i.price;
        cartItems.innerHTML += `<li>${i.name} - ‚Çπ${i.price}</li>`;
    });
    document.getElementById("total").innerText = total;
}

/* AUTH */
function openLogin() {
    document.getElementById("authModal").style.display = "flex";
}

function closeModal() {
    authModal.style.display = "none";
}

function login() {
    token = "dummy-jwt-token";
    localStorage.setItem("token", token);
    authBtn.innerText = "Logout";
    authBtn.onclick = logout;
    closeModal();
}

function signup() {
    alert("Signup successful. Please login.");
}

function logout() {
    localStorage.clear();
    location.reload();
}

/* CHECKOUT */
function checkout() {
    if (!token) {
        alert("Please login to place order");
        return;
    }
    alert("Order placed successfully!");
    cart = [];
    renderCart();
}
</script>

</body>
</html>
